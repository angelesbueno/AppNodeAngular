<div class="container">
    <h2 style="padding-bottom: .5em">Modificar Empleado</h2>

    <form (ngSubmit)="modEmp(formMod)" #formMod="ngForm" novalidate>

        <div>
            <div class="form-group row">
                <label class="col-2 col-form-label">Nombre</label>
                <div class="col-8">
                    <input class="form-control" [ngClass]="{ 'is-invalid': nombre.errors?.required && nombre.touched}" type="text" [(ngModel)]="this.empleado.nombre" ngModel name="nombre" #nombre="ngModel" required>
                    <div *ngIf="nombre.errors?.required" class="div-invalid invalid-feedback">
                      Campo obligatorio
                  </div>
                </div>
            </div>

            <div class="form-group row">
                <label class="col-2 col-form-label">Apellido1</label>
                <div class="col-8">

                    <input class="form-control" [ngClass]="{ 'is-invalid': apellido1.errors?.required && apellido1.touched}" type="text" [(ngModel)]="this.empleado.apellido1" ngModel name="apellido1" #apellido1="ngModel" required>
                    <div *ngIf="apellido1.errors?.required" class="div-invalid invalid-feedback">
                      Campo obligatorio
                  </div>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-2 col-form-label">Apellido2</label>
                <div class="col-8">

                    <input class="form-control" type="text" [ngClass]="{ 'is-invalid': apellido2.errors?.required && apellido2.touched}" [(ngModel)]="this.empleado.apellido2" ngModel name="apellido2" #apellido2="ngModel" required>
                    <div *ngIf="apellido2.errors?.required" class="div-invalid invalid-feedback">
                      Campo obligatorio
                  </div>

                </div>
            </div>

            <div class="form-group row">
                <label class="col-2 col-form-label">Dirección</label>
                <div class="col-8">

                    <input class="form-control" type="text" [ngClass]="{ 'is-invalid': direccion.errors?.required && direccion.touched}" [(ngModel)]="this.empleado.direccion" ngModel name="direccion" #direccion="ngModel" required>
                    <div *ngIf="direccion.errors?.required" class="div-invalid invalid-feedback">
                      Campo obligatorio
                  </div>

                </div>
            </div>

            <div class="form-group row">
                <label class="col-2 col-form-label">CP</label>
                <div class="col-8">

                    <input class="form-control" [ngClass]="{ 'is-invalid': (cp.errors?.required || cp.errors?.pattern) && cp.touched }" type="text" [(ngModel)]="this.empleado.cp" ngModel name="cp" #cp="ngModel" pattern="[0-9]{5}" required>

                    <div *ngIf="cp.errors?.required" class="div-invalid invalid-feedback">
                      Campo obligatorio
                  </div>

                    <div *ngIf="cp.errors?.pattern" class="div-invalid invalid-feedback">
                        Formato incorrecto
                    </div>
                </div>
            </div>

            <div class="form-group row">
                <label class="col-2 col-form-label">Población</label>
                <div class="col-8">

                    <input class="form-control" [ngClass]="{ 'is-invalid': poblacion.errors?.required && poblacion.touched}" type="text" [(ngModel)]="this.empleado.poblacion" ngModel name="poblacion" #poblacion="ngModel" required>
                    <div *ngIf="poblacion.errors?.required" class="div-invalid invalid-feedback">
                      Campo obligatorio
                  </div>
                </div>
            </div>

            <div class="form-group row">
                <label class="col-2 col-form-label">Provincia</label>
                <div class="col-8">

                    <input class="form-control" [ngClass]="{ 'is-invalid': provincia.errors?.required && provincia.touched}" type="text" [(ngModel)]="this.empleado.provincia" ngModel name="provincia" #provincia="ngModel" required>
                    <div *ngIf="provincia.errors?.required" class="div-invalid invalid-feedback">
                      Campo obligatorio
                  </div>
                </div>
            </div>

            <div class="form-group row">
                <label class="col-2 col-form-label">Teléfono</label>
                <div class="col-8">

                    <input class="form-control" [ngClass]="{ 'is-invalid': (telefono.errors?.required || telefono.errors?.pattern) && telefono.touched}" type="text" [(ngModel)]="this.empleado.telefono" ngModel name="telefono" #telefono="ngModel" pattern="[0-9]{9}" required>
                    <div *ngIf="telefono.errors?.required" class="div-invalid invalid-feedback">
                      Campo obligatorio
                  </div>

                    <div *ngIf="telefono.errors?.pattern && telefono.touched" class="div-invalid invalid-feedback">
                        Formato incorrecto
                    </div>
                </div>
            </div>

        </div>

        <div class="form-group row">
            <label class="col-2 col-form-label">Email</label>
            <div class="col-md-8">

                <input class="form-control" [ngClass]="{ 'is-invalid':  
                (email.errors?.required || email.errors?.pattern) && email.touched}" type="email" [(ngModel)]="this.empleado.email" ngModel name="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$" #email="ngModel" required>
                <div *ngIf="email.errors?.required" class="div-invalid invalid-feedback">
                  Campo obligatorio
              </div>

                <div *ngIf="email.errors?.pattern && email.touched" class="div-invalid invalid-feedback">
                    Formato de email incorrecto
                </div>
            </div>
        </div>

        <div class="form-group row">
            <label class="col-2 col-form-label">&nbsp;</label>
            <div class="input-group col-md-8">
                <a [routerLink]="['/listaEmp']" class="btn btn-outline-danger" style="
                margin-right: 15px;">Cancelar</a>
                <button [disabled]="!formMod.valid && formMod.touched" type="submit" class="btn btn-outline-primary">
                    <!-- [disabled]="!formMod.valid && formMod.touched" -->
        Modificar
      </button>
            </div>
        </div>
        <div *ngIf="this.mod" style="color: green">
            Empleado modificado correctamente
        </div>
        <div *ngIf="this.formInvalid" style="color: red">
            Formulario inválido
        </div>
    </form>